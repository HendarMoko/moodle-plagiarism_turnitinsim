define(["jquery"],function(a){return{connectionTest:function(){function b(a,b){"BUTTON"===a.get(0).tagName?a.text(b):a.attr("value",b)}var c=a("#id_connection_test");c.length>0&&c.click(function(){a.ajax({type:"POST",url:M.cfg.wwwroot+"/plagiarism/turnitinsim/ajax/connection_test.php",dataType:"json",data:{action:"connection_test",sesskey:M.cfg.sesskey,apiurl:a("#id_turnitinapiurl").val(),apikey:a("#id_turnitinapikey").val()},success:function(d){200===d.connection_status?(c.removeClass("connection-test-failed"),c.addClass("connection-test-success"),b(c,M.str.plagiarism_turnitinsim.connecttestsuccess)):(c.removeClass("connection-test-success"),c.addClass("connection-test-failed"),b(c,M.str.plagiarism_turnitinsim.connecttestfailed)),c.delay(1e3).fadeOut("slow",function(){a(this).removeClass("connection-test-failed"),a(this).removeClass("connection-test-success"),b(c,M.str.plagiarism_turnitinsim.connecttest)}).fadeIn("slow")}})})}}});